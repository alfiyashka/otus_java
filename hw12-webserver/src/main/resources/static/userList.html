<html xmlns="http://www.w3.org/1999/xhtml" content="text/html;">
<head>
    <title>Users List</title>
    <script type="text/JavaScript">

    </script>
</head>
<body>
<p><a href="index.html">Back to main page</a> </p>
<button id="lab" onclick="updateUsers()" value="updateTable">Get Users</button>
<table class="users" border="1">
    <thead>
    <tr>
        <th>Name</th>
        <th>Age</th>
        <th>Address</th>
        <th>Phone</th>
    </tr>
    </thead>
    <tbody id="tableBody">
    <script type="text/JavaScript">
               function updateUsers() {
                fetch('http://localhost:8080/users')
                            .then(function (response) {
                    return response.json();
                })
                .then(function (users) {
                    tableBody.innerHTML = "";
                    if (users.length == 0) {
                        alert("There are not any users. Please, create one if needed");
                    }
                    users.forEach(function(element) {
                        tableBody.innerHTML += "<tr><td>" + element.name
                                + "</td><td>" + element.age
                                + "</td><td>" + element.address
                                + "</td><td>" + element.phone
                                + "</td></tr>";

                    });
                })
               }
           </script>
    </tbody>
</table>

</body>
</html>